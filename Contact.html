<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contact — Jayden H. Cooper</title>
  <meta name="description" content="Contact Jayden H. Cooper for collaboration, freelance, or project inquiries.">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="index.html">Jayden H. Cooper</a>
      <nav id="primary-nav" class="primary-nav" aria-label="Primary">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="portfolio.html">Portfolio</a></li>
          <li><a href="contact.html" aria-current="page">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main" class="site-main container">
    <header class="page-header">
      <h1>Contact</h1>
      <p class="lede">Interested in working together? Send a short message below or email <a href="mailto:Jayden.h.cooper@live.com">Jayden.h.cooper@live.com</a>.</p>
    </header>

    <!-- Netlify Forms: will automatically email submissions to jayden.h.cooper@live.com -->
    <form class="contact-form" name="contact" method="POST" data-netlify="true" aria-label="Contact form">
      <input type="hidden" name="form-name" value="contact" />
      
      <div class="form-row form-row-inline">
        <div class="form-field">
          <label for="name">Name</label>
          <input id="name" name="name" type="text" required>
        </div>

        <div class="form-field">
          <label for="email">Email</label>
          <input id="email" name="email" type="email" required>
        </div>

        <div class="form-field">
          <label for="reason">Reason for Contact</label>
          <select id="reason" name="reason" required>
            <option value="">Select a reason</option>
            <option value="collaboration">Looking for Collaboration</option>
            <option value="interview">Interested in an Interview</option>
            <option value="other">Just Saying Hi</option>
          </select>
        </div>
      </div>

      <div class="form-row form-row-message">
        <div class="form-field">
          <label for="message">Message</label>
          <textarea id="message" name="message" rows="6" placeholder="Write your message here..." required></textarea>
        </div>

        <button class="btn" type="submit">Submit</button>
      </div>
    </form>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="container footer-inner">
      <p>&copy; <span id="year"></span> Jayden H. Cooper — Built with HTML &amp; CSS</p>
      <nav aria-label="Footer">
        <ul class="footer-links">
          <li><a href="https://github.com/" target="_blank" rel="noopener noreferrer">GitHub</a></li>
          <li><a href="https://www.linkedin.com/" target="_blank" rel="noopener noreferrer">LinkedIn</a></li>
        </ul>
      </nav>
    </div>
  </footer>

  <script>
    // Set copyright year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  <script>
    // AJAX submit handler for Netlify Forms
    (function () {
      const form = document.querySelector('form[name="contact"]');
      if (!form) return;

      // Optional: add a simple hidden honeypot field to deter bots
      if (!form.querySelector('input[name="bot-field"]')) {
        const bot = document.createElement('input');
        bot.type = 'hidden';
        bot.name = 'bot-field';
        form.appendChild(bot);
      }

      form.addEventListener('submit', function (e) {
        e.preventDefault();

        // Basic client-side validation (HTML required attributes also help)
        const name = form.querySelector('[name="name"]').value.trim();
        const email = form.querySelector('[name="email"]').value.trim();
        const message = form.querySelector('[name="message"]').value.trim();
        if (!name || !email || !message) {
          alert('Please complete name, email, and message.');
          return;
        }

        const formData = new FormData(form);
        // Ensure Netlify knows the form name (for AJAX submissions)
        if (!formData.get('form-name')) formData.append('form-name', form.getAttribute('name') || 'contact');

        // Convert FormData to URL-encoded string
        const encoded = new URLSearchParams();
        for (const pair of formData) encoded.append(pair[0], pair[1]);

        // Send to Netlify
        fetch('/', {
          method: 'POST',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
          body: encoded.toString()
        })
        .then((response) => {
          if (response.ok) return response.text();
          throw new Error('Network response was not ok');
        })
        .then(() => {
          // Replace form with a friendly success message
          const success = document.createElement('div');
          success.className = 'form-success page-card';
          success.innerHTML = `
            <h2>Thanks — message sent</h2>
            <p>Thanks for reaching out, ${name}. I&#39;ll get back to you at ${email} soon.</p>
            <p>If you don&#39;t see a reply, you can email me directly at <a href="mailto:jayden.h.cooper@live.com">jayden.h.cooper@live.com</a>.</p>
          `;
          form.parentNode.replaceChild(success, form);
        })
        .catch((err) => {
          console.error(err);
          alert('Submission failed — please try again or email jayden.h.cooper@live.com directly.');
        });
      });
    })();
  </script>
</body>
</html>
